{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tamar/autamubilismo-nextjs/app/api/ergast/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nconst ALLOWED_PATHS = new Set([\n  'current/driverStandings.json',\n  'current/constructorStandings.json',\n  'current/last/results.json',\n]);\n\nexport async function GET(request) {\n  const { searchParams } = new URL(request.url);\n  const path = searchParams.get('path');\n\n  if (!path || !ALLOWED_PATHS.has(path)) {\n    return NextResponse.json({ error: 'Invalid path' }, { status: 400 });\n  }\n\n  const res = await fetch(`https://ergast.com/api/f1/${path}`, {\n    next: { revalidate: 300 },\n  });\n\n  if (!res.ok) {\n    return NextResponse.json({ error: 'Upstream error' }, { status: res.status });\n  }\n\n  const data = await res.json();\n  return NextResponse.json(data);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,IAAI;IAC5B;IACA;IACA;CACD;AAEM,eAAe,IAAI,OAAO;IAC/B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,OAAO,aAAa,GAAG,CAAC;IAE9B,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,CAAC,OAAO;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;IAEA,MAAM,MAAM,MAAM,MAAM,CAAC,0BAA0B,EAAE,MAAM,EAAE;QAC3D,MAAM;YAAE,YAAY;QAAI;IAC1B;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ,IAAI,MAAM;QAAC;IAC7E;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}